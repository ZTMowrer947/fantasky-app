generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model ActiveDays {
  id        BigInt   @id @default(autoincrement())
  sunday    Boolean  @default(false)
  monday    Boolean  @default(false)
  tuesday   Boolean  @default(false)
  wednesday Boolean  @default(false)
  thursday  Boolean  @default(false)
  friday    Boolean  @default(false)
  saturday  Boolean  @default(false)
  task      NewTask?

  @@map("active_days")
}

model Day {
  id          BigInt      @id(map: "PK_42e726f6b72349f70b25598b50e") @default(autoincrement())
  date        DateTime    @unique(map: "UQ_e4662724cf9f92100be40f24ee0") @db.Date
  tasks       NewTask[]

  @@map("day")
}

model NewTask {
  id            BigInt     @id @default(autoincrement())
  createdAt     DateTime   @default(now()) @db.Timestamp(6)
  updatedAt     DateTime   @updatedAt @db.Timestamp(6)
  name          String     @db.VarChar
  description   String?
  startDate     DateTime   @default(dbgenerated("CURRENT_DATE")) @db.Date
  reminderTime  DateTime?  @db.Timetz(6)
  activeDaysId  BigInt     @unique
  creatorId     BigInt
  activeDays    ActiveDays @relation(fields: [activeDaysId], references: [id], onDelete: Cascade, onUpdate: NoAction)
  creator       User       @relation(fields: [creatorId], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_94fe6b3a5aec5f85427df4f8cd7")
  completedDays Day[]

  @@map("task")
}

model User {
  id           BigInt    @id(map: "PK_cace4a159ff9f2512dd42373760") @default(autoincrement())
  createdAt    DateTime  @default(now()) @db.Timestamp(6)
  updatedAt    DateTime  @default(now()) @db.Timestamp(6)
  deletedAt    DateTime? @db.Timestamp(6)
  firstName    String    @db.VarChar
  lastName     String    @db.VarChar
  emailAddress String    @unique(map: "UQ_eea9ba2f6e1bb8cb89c4e672f62") @db.VarChar
  password     String    @db.VarChar
  newTasks     NewTask[]

  @@map("user")
}
